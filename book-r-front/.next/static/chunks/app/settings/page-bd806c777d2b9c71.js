(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{2221:function(e,t,r){Promise.resolve().then(r.bind(r,5320))},5320:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(7437),a=r(2016),s=r(8174),i=r(2265),l=r(8324),o=r(5137),u=r(1336),d=r(5171),c="Avatar",[f,m]=(0,l.b)(c),[h,x]=f(c),v=i.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[s,l]=i.useState("idle");return(0,n.jsx)(h,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:(0,n.jsx)(d.WV.span,{...a,ref:t})})});v.displayName=c;var g="AvatarImage",p=i.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...l}=e,c=x(g,r),f=function(e){let[t,r]=i.useState("idle");return(0,u.b)(()=>{if(!e){r("error");return}let t=!0,n=new window.Image,a=e=>()=>{t&&r(e)};return r("loading"),n.onload=a("loaded"),n.onerror=a("error"),n.src=e,()=>{t=!1}},[e]),t}(a),m=(0,o.W)(e=>{s(e),c.onImageLoadingStatusChange(e)});return(0,u.b)(()=>{"idle"!==f&&m(f)},[f,m]),"loaded"===f?(0,n.jsx)(d.WV.img,{...l,ref:t,src:a}):null});p.displayName=g;var b="AvatarFallback",j=i.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...s}=e,l=x(b,r),[o,u]=i.useState(void 0===a);return i.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(e)}},[a]),o&&"loaded"!==l.imageLoadingStatus?(0,n.jsx)(d.WV.span,{...s,ref:t}):null});j.displayName=b;var y=r(7440);let N=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(v,{ref:t,className:(0,y.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});N.displayName=v.displayName;let w=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(p,{ref:t,className:(0,y.cn)("aspect-square h-full w-full",r),...a})});w.displayName=p.displayName;let k=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(j,{ref:t,className:(0,y.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});k.displayName=j.displayName;var C=r(495),S=r(8472);function _(){var e,t,r,l;let{data:o,status:u}=(0,s.kP)(),d=(null==o?void 0:null===(e=o.user)||void 0===e?void 0:e.name)||"Guest",c=(null==o?void 0:null===(t=o.user)||void 0===t?void 0:t.email)||"Guest",f=(null==o?void 0:null===(r=o.user)||void 0===r?void 0:r.image)||"/default-avatar.jpg",m=(null==o?void 0:null===(l=o.user)||void 0===l?void 0:l.id)||"Guest",[h,x]=(0,i.useState)(!1),v=async()=>{await (0,s.w7)()};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(a.default,{children:[(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Settings"}),(0,n.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsxs)(N,{children:[(0,n.jsx)(w,{src:f,alt:d}),(0,n.jsx)(k,{children:d.charAt(0)})]}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("h2",{className:"text-lg font-bold",children:d}),(0,n.jsx)("p",{className:"text-gray-500",children:c})]})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"text-gray-600",children:["ID: ",m]})}),(0,n.jsx)(C.z,{onClick:v,className:"mt-4",children:"Logout"})]})]}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(C.z,{onClick:()=>x(!0),children:"Delete All Data"})})]}),h&&(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg",children:[(0,n.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Are you sure you want to delete all your data?"}),(0,n.jsx)("span",{className:"flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-gray-600 mb-4 text-center",children:"This action cannot be undone."})}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)(C.z,{className:"bg-gray-500",onClick:()=>x(!1),children:"Cancel"}),(0,n.jsx)(C.z,{className:"bg-red-500",onClick:function(){x(!1),S.Z.delete("/api/delete").then(e=>{console.log(e.data)}).catch(e=>{console.error("Error deleting data:",e)})},children:"Delete"})]})]})})]})}},2016:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var n=r(7437),a=r(7138),s=r(8174);function i(e){var t;let{children:r}=e,{data:i,status:l}=(0,s.kP)(),o=(null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.name)||"Guest";return(0,n.jsxs)("div",{className:"bg-gray-200",children:[(0,n.jsxs)("div",{className:"bg-gray-200 text-black flex items-center h-16 px-4 gap-4 shadow-md",children:[(0,n.jsx)("h1",{className:"text-xl font-bold",children:"QbBookReview"}),(0,n.jsxs)("nav",{className:"flex gap-4",children:[(0,n.jsx)(a.default,{href:"/",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"Home"}),(0,n.jsx)(a.default,{href:"/book",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"Books"}),(0,n.jsx)(a.default,{href:"/review",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"Review"}),(0,n.jsx)(a.default,{href:"/lists",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"Lists"}),(0,n.jsx)(a.default,{href:"/about",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"About"}),(0,n.jsx)(a.default,{href:"/settings",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"Settings"})]}),i?(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsxs)("p",{children:["Welcome, ",o]})}):(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsx)(a.default,{href:"/auth/login",className:"text-gray-900 hover:text-gray-400 transition-colors duration-200",children:"Sign In"})})]}),(0,n.jsx)("div",{className:"bg-neutral-100 overflow-y-auto h-screen",children:r})]})}},495:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return u}});var n=r(7437),a=r(2265),s=r(1538),i=r(2218),l=r(7440);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:u=!1,...d}=e,c=u?s.g7:"button";return(0,n.jsx)(c,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});u.displayName="Button"},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(4839),a=r(6164);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},8324:function(e,t,r){"use strict";r.d(t,{b:function(){return i},k:function(){return s}});var n=r(2265),a=r(7437);function s(e,t){let r=n.createContext(t);function s(e){let{children:t,...s}=e,i=n.useMemo(()=>s,Object.values(s));return(0,a.jsx)(r.Provider,{value:i,children:t})}return s.displayName=e+"Provider",[s,function(a){let s=n.useContext(r);if(s)return s;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function i(e,t=[]){let r=[],s=()=>{let t=r.map(e=>n.createContext(e));return function(r){let a=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return s.scopeName=e,[function(t,s){let i=n.createContext(s),l=r.length;function o(t){let{scope:r,children:s,...o}=t,u=r?.[e][l]||i,d=n.useMemo(()=>o,Object.values(o));return(0,a.jsx)(u.Provider,{value:d,children:s})}return r=[...r,s],o.displayName=t+"Provider",[o,function(r,a){let o=a?.[e][l]||i,u=n.useContext(o);if(u)return u;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(s,...t)]}},5171:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return o}});var n=r(2265),a=r(4887),s=r(1538),i=r(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...a}=e,l=n?s.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},5137:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var n=r(2265);function a(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},1336:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(2265),a=globalThis?.document?n.useLayoutEffect:()=>{}}},function(e){e.O(0,[174,183,138,472,971,23,744],function(){return e(e.s=2221)}),_N_E=e.O()}]);
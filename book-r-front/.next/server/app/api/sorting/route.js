"use strict";(()=>{var e={};e.id=1179,e.ids=[1179],e.modules={38013:e=>{e.exports=require("mongodb")},11185:e=>{e.exports=require("mongoose")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},72254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},47261:e=>{e.exports=require("node:util")},90695:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>j,patchFetch:()=>q,requestAsyncStorage:()=>h,routeModule:()=>v,serverHooks:()=>y,staticGenerationAsyncStorage:()=>w});var n={};r.r(n),r.d(n,{DELETE:()=>m,GET:()=>f,POST:()=>x});var s=r(49303),o=r(88716),a=r(60670),i=r(87070),p=r(55285),u=r(11185),c=r.n(u);let d=new u.Schema({name:{type:String,required:!0},parent:{type:c().Types.ObjectId,ref:"Sorting"},properties:[{type:Object}]}),l=u.models?.Sorting||(0,u.model)("Sorting",d);var g=r(44830);async function x(e){let t=await (0,g.I8)(),r=t?.user?.id;if("string"!=typeof r||!["6681baf3edaf2e8a771432a2"].includes(r))return i.NextResponse.json({message:"You are not authorized to view this page"});{await (0,p.Z)();let{sortingName:t,parent:r,properties:n}=await e.json(),s=await l.create({name:t,parent:r,properties:n});return i.NextResponse.json({SortingDoc:s})}}async function f(){let e=await (0,g.I8)(),t=e?.user?.id;return"string"!=typeof t?i.NextResponse.json({message:"You are not authorized to view this page"}):["6681baf3edaf2e8a771432a2"].includes(t)?(await (0,p.Z)(),i.NextResponse.json(await l.find({}).populate("parent"))):i.NextResponse.json({message:"You are not authorized to view this page"})}async function m(e){let t=await (0,g.I8)(),r=t?.user?.id;if("string"!=typeof r||!["6681baf3edaf2e8a771432a2"].includes(r))return i.NextResponse.json({message:"You are not authorized to view this page"});{await (0,p.Z)();let{id:t}=await e.json();return await l.deleteOne({_id:t}),i.NextResponse.json({message:"Class deleted successfully"})}}let v=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/sorting/route",pathname:"/api/sorting",filename:"route",bundlePath:"app/api/sorting/route"},resolvedPagePath:"/Users/shashanklahoti/Desktop/Coding Projects/test2-Front/book-r-front/app/api/sorting/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:h,staticGenerationAsyncStorage:w,serverHooks:y}=v,j="/api/sorting/route";function q(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:w})}},44830:(e,t,r)=>{let n;r.d(t,{I8:()=>f,handlers:()=>l});var s=r(15138),o=r(8204),a=r(80092),i=r(64704),p=r(38013);if(!process.env.MONGODB_URI)throw Error('Invalid/Missing environment variable: "MONGODB_URI"');let u=process.env.MONGODB_URI,c={serverApi:{version:p.ServerApiVersion.v1,strict:!0,deprecationErrors:!0}};n=new p.MongoClient(u,c).connect();let d=["6681baf3edaf2e8a771432a2"],{handlers:l,signIn:g,signOut:x,auth:f}=(0,s.ZP)({providers:[o.Z,a.Z],adapter:(0,i.dJ)(n),pages:{signIn:"/auth/login",signOut:"/auth/logout"},callbacks:{jwt:async({token:e,account:t})=>(t&&(e.accessToken=t.access_token),e),session:async({session:e,token:t,user:r})=>d.includes(e?.user?.id)?{...e,isAdmin:!0}:{...e,isAdmin:!1}}})},55285:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(11185),s=r.n(n);function o(){if(1===s().connection.readyState)return s().connection.asPromise();{let e=process.env.MONGODB_URI;return s().connect(e)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972,9066],()=>r(90695));module.exports=n})();